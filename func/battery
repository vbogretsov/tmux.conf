bar=(▁ ▁ ▂ ▃ ▄ ▅ ▆ ▇ █ █)
len=${#bar[*]}

battery_bar() {
    echo ${bar[$1]}
}

battery() {
    value=$(pmset -g batt | grep -o "[0-9]\{1,3\}%" | grep -o "[0-9]\{1,3\}")
    index=$(($value/$len))
    item=${bar[$index]}

    echo ${value}% $item
}

battery
